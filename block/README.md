# Home Automation Event Handler for PubNub BLOCKS

# Pubnub block creation

## Step 1 : 
Login to the [PubNub admin page](https://admin.pubnub.com/#/login) with valid credentials.

## Step 2 : 
Click the "CREATE NEW APP" by giving a name to your APP.

![alt-tag](https://github.com/shyampurk/HomeConv/blob/master/screenshots/blocks/b_1.png)

<hr>

![alt-tag](https://github.com/shyampurk/HomeConv/blob/master/screenshots/blocks/b_2.png) 

You can see the newly created APP in the page.

## Step 3 : 
Click on the newly created APP.You can see the Demo keyset for the new application created.

![alt-tag](https://github.com/shyampurk/HomeConv/blob/master/screenshots/blocks/b_3.png)         

## Step 4 : 
Click on the Demo keyset and click on the Blocks (on the left side).

![alt-tag](https://github.com/shyampurk/HomeConv/blob/master/screenshots/blocks/b_4.png)

## Step 5 : 
Create a new Block by giving the block name and description to the block.

![alt-tag](https://github.com/shyampurk/HomeConv/blob/master/screenshots/blocks/b_5.png)

## Step 6 : 
Create the Event Handler by clicking CREATE button at the bottom.

![alt-tag](https://github.com/shyampurk/HomeConv/blob/master/screenshots/blocks/b_6.png)

## Step 7 : 
Give the Name of the Event handler, Channel to communicate with the block and the option of when block code should execute(Before of After publish of the message).

![alt-tag](https://github.com/shyampurk/HomeConv/blob/master/screenshots/blocks/b_7.png)

## Step 8 : 
Click on the newly created Event handler.

![alt-tag](https://github.com/shyampurk/HomeConv/blob/master/screenshots/blocks/b_8.png)

## Step 9 : 
Copy the block code in the text area from [here](https://github.com/shyampurk/HomeConv/blob/master/block/main.js), and save it. before saving, ensure that you have filled in your conversation service credentials. 

![alt-tag](https://github.com/shyampurk/HomeConv/blob/master/screenshots/blocks/b_9.png)

## Step 10 : 
Click on the Start block button(top right) to start the block.

![alt-tag](https://github.com/shyampurk/HomeConv/blob/master/screenshots/blocks/b_10.png)

Your PubNub BLOCK is now running. The virtual agent is ready to accept dialogs from the user. 

